# 雀鬼游戏接口文档

## 1. 游客登录

### 接口说明

创建游客账号并登录系统

### 请求方式

POST

### 接口地址

```
/api/users/guest
```

### 请求参数

无

### 响应参数

| 参数名        | 参数说明 | 类型   | 备注                  |
| ------------- | -------- | ------ | --------------------- |
| code          | 状态码   | int    | 200成功，其他为失败   |
| msg           | 响应信息 | string | 成功/失败消息         |
| data          | 响应数据 | object | 响应数据对象          |
| └─ id       | 用户ID   | long   | 系统生成的8位数字ID   |
| └─ nickname | 用户昵称 | string | 系统生成的游客昵称    |
| └─ token    | 认证令牌 | string | JWT格式，有效期24小时 |

### 响应示例

```json
{
    "code": 200,
    "msg": "成功",
    "data": {
        "id": 10000001,
        "nickname": "游客10000001",
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MTAwMDAwMDEsIm5pY2tuYW1lIjoi5ri45a6i..."
    }
}
```

## 2. 检查昵称是否可用

### 接口说明

检查用户输入的昵称是否已被占用

### 请求方式

GET

### 接口地址

```
/api/users/check-nickname/{nickname}
```

### 请求参数

| 参数名   | 参数说明 | 类型   | 是否必须 | 备注              |
| -------- | -------- | ------ | -------- | ----------------- |
| nickname | 用户昵称 | string | 是       | 路径参数，URL编码 |

### 响应参数

| 参数名 | 参数说明 | 类型    | 备注                    |
| ------ | -------- | ------- | ----------------------- |
| code   | 状态码   | int     | 200成功，其他为失败     |
| msg    | 响应信息 | string  | 成功/失败消息           |
| data   | 响应数据 | boolean | true可用，false已被占用 |

### 响应示例

```json
{
    "code": 200,
    "msg": "成功",
    "data": true
}
```

## 3. 注册新用户

### 接口说明

创建新用户并返回用户ID

### 请求方式

POST

### 接口地址

```
/api/users
```

### 请求参数

| 参数名   | 参数说明 | 类型   | 是否必须 | 备注        |
| -------- | -------- | ------ | -------- | ----------- |
| nickname | 用户昵称 | string | 是       | 最多8个字符 |

### 请求示例

```json
{
    "nickname": "雀神"
}
```

### 响应参数

| 参数名        | 参数说明 | 类型   | 备注                               |
| ------------- | -------- | ------ | ---------------------------------- |
| code          | 状态码   | int    | 200成功，409昵称已占用，其他为失败 |
| msg           | 响应信息 | string | 成功/失败消息                      |
| data          | 响应数据 | object | 响应数据对象                       |
| └─ id       | 用户ID   | long   | 系统生成的8位数字ID                |
| └─ nickname | 用户昵称 | string | 用户输入的昵称                     |
| └─ token    | 认证令牌 | string | JWT格式，有效期24小时              |

### 响应示例

```json
{
    "code": 200,
    "msg": "成功",
    "data": {
        "id": 10000002,
        "nickname": "雀神",
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MTAwMDAwMDIsIm5pY2tuYW1lIjoi6Zu25aeQIi..."
    }
}
```

## 4. 用户登录

### 接口说明

使用用户ID登录系统

### 请求方式

POST

### 接口地址

```
/api/users/login
```

### 请求参数

| 参数名 | 参数说明 | 类型 | 是否必须 | 备注      |
| ------ | -------- | ---- | -------- | --------- |
| id     | 用户ID   | long | 是       | 8位数字ID |

### 请求示例

```json
{
    "id": 10000002
}
```

### 响应参数

| 参数名        | 参数说明 | 类型   | 备注                               |
| ------------- | -------- | ------ | ---------------------------------- |
| code          | 状态码   | int    | 200成功，404用户不存在，其他为失败 |
| msg           | 响应信息 | string | 成功/失败消息                      |
| data          | 响应数据 | object | 响应数据对象                       |
| └─ id       | 用户ID   | long   | 用户ID                             |
| └─ nickname | 用户昵称 | string | 用户昵称                           |
| └─ token    | 认证令牌 | string | JWT格式，有效期24小时              |

### 响应示例

```json
{
    "code": 200,
    "msg": "成功",
    "data": {
        "id": 10000002,
        "nickname": "雀神",
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJpZCI6MTAwMDAwMDIsIm5pY2tuYW1lIjoi6Zu25aeQIi..."
    }
}
```

## 5. 错误码说明

| 错误码 | 说明                 |
| ------ | -------------------- |
| 200    | 成功                 |
| 400    | 请求参数错误         |
| 401    | 未授权               |
| 404    | 资源不存在           |
| 409    | 资源冲突(昵称已存在) |
| 500    | 服务器内部错误       |
